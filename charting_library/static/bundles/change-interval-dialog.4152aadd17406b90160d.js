webpackJsonp([21],{678:function(t,e,i){"use strict";function o(t){this._options=t||{},this._setInput(),this._caption=$('<i class="interval-caption">').html("&nbsp;"),this._helpTooltipTrigger=$('<i class="help-tooltip-trigger apply-common-tooltip common-tooltip-below">').text("?").attr("title",$.t("Type the interval number for minute charts (i.e. 5 if it is going to be a five minute chart). Or number plus letter for H (Hourly), D (Daily), W (Weekly), M (Monthly) intervals (i.e. D or 2H)")),this._dialogTitle=$.t("Change Interval")}function a(t){var e=/[\dhdwms]/i,i=/[\dhdwm]/i;return r.enabled("seconds_resolution")?e.test(t):i.test(t)}var n=i(79).linking,s=i(837).parseIntervalValue,l=i(837).intervalIsSupported,d=i(837).sanitizeIntervalValue,r=i(5),c=i(78),u=i(865).TVOldDialogs;o.prototype._setInput=function(){this._input=$('<input type="text" class="change-interval-input" autocomplete="off" maxlength="5">'),this._input.on("keypress",this._handleInput.bind(this)).on("input",function(){this._validate(),this._updateCaption()}.bind(this)).on("blur",function(){setTimeout(this._submit.bind(this),0)}.bind(this))},o.prototype._validate=function(){var t,e=this._input.val();this._parsed=s(e),this._valid=!this._parsed.error,this._supported=!this._parsed.error&&l(e),t=this._parsed.unit,this._supported&&("R"===t&&this._parsed.qty>c.getMaxResolutionValue("R")?this._supported=!1:null!==t&&"H"!==t||this._parsed.qty*("H"===t?60:1)>1440&&(this._supported=!1))},o.prototype._updateCaption=function(){var t,e,i;this._valid&&this._supported?(e=this._parsed.qty||1,i=this._parsed.unit||"",t=c.getTranslatedResolutionModel(e+i).hint,this._input.add(this._caption).removeClass("error")):(t=this._parsed.error?"&nbsp;":$.t("Not applicable"),this._input.add(this._caption).addClass("error")),this._caption.html(t)},o.prototype._handleInput=function(t){if(13===t.which)return void this._submit();t.ctrlKey||t.metaKey||!t.charCode||!t.which||t.which<=32||a(String.fromCharCode(t.charCode))||t.preventDefault()},o.prototype._submit=function(){var t,e;u.isOpen(this._dialogTitle)&&(this._valid&&this._supported&&(t=d(this._input.val()),e=n.interval.value(),t&&e!==t&&"function"==typeof this._options.callback&&this._options.callback(t)),u.destroy(this._dialogTitle))},o.prototype._setInitialValue=function(t){var e,i;t=t||this._options.initialValue,e="",i=!1,t&&","!==t?e=d(t)||"":(t=n.interval.value(),e=t,i=!0),this._input.val(e),i&&this._input.select()},o.prototype.isValid=function(){return!!this._valid},o.prototype.show=function(t){var e=u.createDialog(this._dialogTitle,{hideCloseCross:!0,addClass:"change-interval-dialog",ownerDocument:this._options.ownerDocument}),i=e.find("._tv-dialog-content");return e.css("min-width",0),i.css("min-width",0).mousedown(function(t){this._input.is(t.target)||t.preventDefault()}.bind(this)).append(this._input.add(this._caption).add(this._helpTooltipTrigger)),u.applyHandlers(e),u.positionDialog(e),this._setInitialValue(t),this._validate(),this._updateCaption(),e},t.exports.ChangeIntervalDialog=o},807:function(t,e,i){"use strict"
;function o(t){return t in $.fn?Promise.resolve():(s||(s=new Promise(function(t){i.e(31).then(function(e){i(811),t()}.bind(null,i)).catch(i.oe)})),s)}function a(t){return new l(t)}var n,s,l;Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"LazyJqueryUI",function(){return l}),e.lazyJqueryUI=a,n=i(14),i.n(n),l=function(){function t(t){this._$elem=t}return t.prototype.draggable=function(){var t=arguments,e=this._$elem;return o("draggable").then(function(){return e.draggable.apply(e,t)})},t.prototype.resizable=function(){var t=arguments,e=this._$elem;return o("resizable").then(function(){return e.resizable.apply(e,t)})},t.prototype.sortable=function(){var t=arguments,e=this._$elem;return o("sortable").then(function(){return e.sortable.apply(e,t)})},t.prototype.datepicker=function(){var t=arguments,e=this._$elem;return o("datepicker").then(function(){return e.datepicker.apply(e,t)})},t}()},817:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 8" width="16" height="8"><path d="M0 1.475l7.396 6.04.596.485.593-.49L16 1.39 14.807 0 7.393 6.122 8.58 6.12 1.186.08z"/></svg>'},826:function(t,e,i){"use strict";function o(t){var e,i,o=(t+"").match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return null===o?0:(e=o[1]?o[1].length:0,i=o[2]?parseInt(o[2],0):0,Math.max(0,e-i))}function a(t){return t=Math.abs(t),!Object(c.isInteger)(t)&&t>1&&(t=parseFloat((""+t).replace(/^.+\./,"0."))),0<t&&t<1?Math.pow(10,o(t)):1}function n(t,e){var i,o,n,s,l,d;t.trigger("tvticker-beforechange"),i=t.data("TVTicker"),o=i&&i.step,n=0,n=i.parser?i.parser(t.val()):Object(c.isInteger)(o)?parseInt(t.val(),10):parseFloat(t.val()),isNaN(n)&&(n=0),s=a(o),l=Math.max(s,a(n)),d=e(n,l),i.formatter&&(d=i.formatter(d)),t.val(d),t.change()}function s(t){var e=t.data("TVTicker"),i=e&&e.step,o=e&&e.max;n(t,function(t,e){var a=(Math.round(t*e)+Math.round(i*e))/e;return void 0!==o&&null!==o&&o<a&&(a=t),a})}function l(t){var e=t.data("TVTicker"),i=e&&e.step,o=e&&e.min;n(t,function(t,e){var a=(Math.round(t*e)-Math.round(i*e))/e;return void 0!==o&&null!==o&&a<o&&(a=t),a})}var d,r,c,u;Object.defineProperty(e,"__esModule",{value:!0}),d=i(14),i.n(d),r=i(304),i.n(r),c=i(13),i.n(c),u=i(817),i.n(u),$.fn.TVTicker=function(t){return void 0===t&&(t={}),this.each(function(){var e,i,o,a=!1,n=$(this),d=n.data("TVTicker");d?a=!0:d={step:+n.data("step")||1},"step"in t&&(d.step=+t.step||d.step),"min"in t&&(d.min=t.min),"max"in t&&(d.max=t.max),"formatter"in t&&(d.formatter=t.formatter),"parser"in t&&(d.parser=t.parser),n.data("TVTicker",d),a||(e=$('<div class="tv-ticker">').appendTo(n.parent()),i=$('<div class="tv-ticker__btn tv-ticker__btn--up">').html(u).appendTo(e),o=$('<div class="tv-ticker__btn tv-ticker__btn--down">').html(u).appendTo(e),e.on("mousedown",function(t){t.preventDefault(),n.focus()}),i.click(function(){n.is(":disabled")||s(n)}),o.click(function(){n.is(":disabled")||l(n)}),n.keydown(function(t){n.is(":disabled")||(38===t.keyCode?i.addClass("i-active"):40===t.keyCode&&o.addClass("i-active"))}),n.keyup(function(t){
n.is(":disabled")||(38===t.keyCode?(s(n),i.removeClass("i-active")):40===t.keyCode&&(l(n),o.removeClass("i-active")))}),n.mousewheel(function(t,e){e>0?i.click():o.click()}))})}},832:function(t,e){},837:function(t,e,i){"use strict";function o(t){var e,i,o,a,n;return e=/^[,\s]*(\d*)\s*([hdwms]?)\s*$/i,i=e.exec(t)||[],o=~~i[1],a=i[2]&&i[2].toUpperCase()||null,n={qty:!o&&a?1:o,unit:a},n.error=!o&&!a,n.intraday=!(n.error||n.unit&&"H"!==n.unit),n}function a(t){var e,i,a;return l.enabled("allow_supported_resolutions_set_only")?null!==(e=n(t))&&Object(d.isAvailable)(""+e):(i=o(t),!i.error&&(i.intraday?r.linking.intraday.value():!(a=r.linking.supportedResolutions.value())||null!==i.unit&&!!~a.indexOf(i.unit)))}function n(t){var e=o(t),i=e.qty,a=e.unit;return e.error?null:("H"===a&&(i*=60,a=null),i&&!a?i+"":a&&(!i||1===i&&"S"!==a)?a:i+a)}function s(){var t=!1;return t}var l,d,r;Object.defineProperty(e,"__esModule",{value:!0}),e.parseIntervalValue=o,e.intervalIsSupported=a,e.sanitizeIntervalValue=n,e.canShowSpreadActions=s,l=i(5),i.n(l),d=i(78),r=i(79)},865:function(t,e,i){"use strict";(function(e,o){var a,n=i(49).max,s=i(807).lazyJqueryUI;i(826),a={modalDialog:null,dialogs:[],NOTIFICATION_ANIMATION_START_OFFSET:"-33px",_constrainDraggableOptionsIfNeeded:function(t){return e.enabled("constraint_dialogs_movement")&&(t.containment=".chart-page"),t},showNotice:function(t,e,i){var n,s,l,d,r,c;return"object"==typeof e&&(i=e,e=""),i=i||{},n=i.doNotCloseOnBgClick||!1,s=i.html||"",l=i.width||"400px",d={},d.noClose=i.noClose||null,d.addClass=i.modalDialogClass||null,a.createModalDialog(t,d),r=i.centerCaption?"caption-big-center":"caption-big",a.modalDialog.find("._tv-dialog").css("width",l),c=i.customButtonCaption?i.customButtonCaption:$.t("OK"),a.modalDialog.find("._tv-dialog-content").html(o.render('<div class="main"><div class="{{captionClassName}} {{classSuffix}}">{{text}}'+s+'</div>{{^removeOkButton}}<div class="buttons"><input type="button" class="_tv-button ok" value="'+c+'"/></div>{{/removeOkButton}}</div>',{captionClassName:r,classSuffix:i.classSuffix||"",text:e,removeOkButton:i&&i.removeOkButton})),a.modalDialog.find("._tv-button.ok").on("click",function(){a.destroy(),i.onOkButtonClick&&i.onOkButtonClick()}),a.positionDialog(),a.applyHandlers(!1,{doNotCloseOnBgClickIfShadowbox:n,beforeDestroy:i.onClose}),a.modalDialog},showCustomDialog:function(t){function e(t){a.destroy(),t.preventDefault()}return a.createModalDialog(t.title||$.t("Dialog"),{addClass:""}),a.modalDialog.find("._tv-dialog").css("width",t.width||"400px"),a.modalDialog.find("._tv-dialog-content").html('<div class="main">'+(t.html||$.t("Content"))+"</div>"),a.modalDialog.find(".ok").click(e),a.modalDialog.find("form").submit(e),a.modalDialog.find(".cancel").click(e),a.modalDialog.find("._tv-dialog-title-close").click(e),a.positionDialog(),a.applyHandlers(),a.modalDialog},createModalDialog:function(t,e){var i,o;return e=e||{},null!==a.modalDialog&&a.destroy(),
a.modalDialog=$('<div class="_tv-dialog-shadowbox"><div class="_tv-dialog _tv-dialog-modal'+(e.addClass?" "+e.addClass:"")+'">'+(e.noHeader?"":'<div class="_tv-dialog-title">'+(e.noClose?"":'<a class="_tv-dialog-title-close"></a>')+'<span class="_tv-dialog-title-text">'+t+"</span></div>")+'<div class="_tv-dialog-error"><span class="message"></span></div><div class="_tv-dialog-message"><span class="message"></span></div><div class="_tv-dialog-content"></div></div></div>').appendTo($("body")).data("title",t),a._addMessageCloseButton(a.modalDialog.find("._tv-dialog-error")),a._addMessageCloseButton(a.modalDialog.find("._tv-dialog-message")),e.noShadowBox&&a.modalDialog.addClass("transparent"),e.addClass&&a.modalDialog.addClass(e.addClass),e.width&&a.modalDialog.find("._tv-dialog").css({width:e.width}),e.content&&a.modalDialog.find("._tv-dialog-content").html(e.content),i=$(".fancybox-overlay"),i.length&&(o=i.css("z-index"),$("._tv-dialog-shadowbox").css("z-index",o+1)),e.draggable&&s(a.modalDialog).draggable(a._constrainDraggableOptionsIfNeeded({handle:a.modalDialog.find("._tv-dialog-title")})),e.zIndex&&a.modalDialog.css("z-index",e.zIndex),a.modalDialog},_addMessageCloseButton:function(t){var e=$(i(866)).attr({class:"close",title:$.t("Close message")});t.append(e),$(e).on("click",function(){t.animate({marginTop:a.NOTIFICATION_ANIMATION_START_OFFSET,opacity:0},"fast",function(){t.hide()})})},createDialog:function(t,e){var i,l,d,r;return a.isOpen(t)?(i=a.get(t),i.find("._tv-dialog-content").html(""),i.data("new",!1),i):(e=e||{},l=e.ownerDocument||document,i=$(o.render('<div class="_tv-dialog _tv-dialog-nonmodal {{&addClass}}"><div class="_tv-dialog-title{{#hideTitle}} _tv-dialog-title-hidden{{/hideTitle}}{{#hideCloseCross}} _tv-dialog-title-no-close{{/hideCloseCross}}">{{^hideTitle}} {{&title}}{{/hideTitle}}{{^hideCloseCross}}<a class="_tv-dialog-title-close"></a>{{/hideCloseCross}}</div><div class="_tv-dialog-error"><span class="message"></span></div><div class="_tv-dialog-message"><span class="message"></span></div><div class="_tv-dialog-content"></div></div>',{addClass:e.addClass||"",hideTitle:e.hideTitle,hideCloseCross:e.hideCloseCross,title:t}),l).appendTo(l.body),a._addMessageCloseButton(i.find("._tv-dialog-error")),a._addMessageCloseButton(i.find("._tv-dialog-message")),e.width&&i.css({width:e.width}),e.content&&i.find("._tv-dialog-content").html(e.content),d=0,d=e.zIndex?e.zIndex:a.dialogs&&a.dialogs.length?n($.map(a.dialogs,function(t){return parseInt((t.dialog||t).css("z-index"),10)}))+1:110,i.css("z-index",d),i.data("new",!0),i.data("title",t),i.data("id",a.dialogs.length+1),a.dialogs.push({title:t,dialog:i,id:a.dialogs.length+1}),r={start:function(t,e){var i,o,n=e.helper.css("z-index"),s=0,l=null;for(i=0;i<a.dialogs.length;i++)(o=a.dialogs[i].dialog.css("z-index"))>s&&(s=o,l=a.dialogs[i].dialog);e.helper.css("z-index",s),l.css("z-index",n)}},e.dragHandle?r.handle=e.dragHandle:e.hideTitle||(r.handle="._tv-dialog-title"),e.dragOptions&&$.extend(r,e.dragOptions),
s(i).draggable(a._constrainDraggableOptionsIfNeeded(r)),i)},positionDialog:function(t,e,i){function o(){n.css("margin-left",-Math.round(n.outerWidth()/2)+"px"),n.css("margin-top",-Math.round(n.outerHeight()/2)+"px")}var n,s,l,d,r,c,u,p,g,h;i=i||{},e=e||i.position,t?(s=t.prop("ownerDocument"),l=s.defaultView,d=t.width(),r=t.height(),c=$(l).width(),u=$(l).height(),e&&e.top&&e.left?(g=i.forcePosition?e.left:Math.max(2,Math.min(c-d-4,e.left))+"px",p=i.forcePosition?e.top:Math.max(2,Math.min(u-r-4,e.top))+"px"):e&&e.considerScroll?(h=$(s),g=Math.round((c-d)/2+h.scrollLeft())+"px",p=Math.round((u-r)/2+h.scrollTop())+"px"):(g=Math.round((c-d)/2)+"px",p=Math.round((u-r)/2)+"px"),i.fadeIn?t.css({left:g,top:p}).hide().fadeIn("fast"):i.smooth?t.animate({left:g,top:p}):t.css({left:g,top:p})):(t=a.modalDialog,n=t.find("._tv-dialog"),o(),n.resize(o))},applyHandlers:function(t,e){var i,o,n,s=!t||t===this.modalDialog;e=e||{},i=s?function(){a.destroy()}:function(){a.destroy(t.data("title"))},t=t||a.modalDialog.find("._tv-dialog"),o=t.prop("ownerDocument"),e.beforeDestroy&&t.on("destroy",e.beforeDestroy),t.find("._tv-dialog-title ._tv-dialog-title-close, .js-dialog-close").on("click",function(t){e.closeHandler&&"function"==typeof e.closeHandler?e.closeHandler(t):i()}),e.doNotCloseOnBgClick||setTimeout(function(){$(o).on("mousedown.closeDialog",function(a){var n=$(a.target).parents().andSelf();n.is(t)||e.doNotCloseOnBgClickIfShadowbox&&n.is("._tv-dialog-shadowbox, .tv-dialog__modal-wrap")||n.is(".colorpicker, .charts-popup-list, ._tv-dialog, .tvcolorpicker-popup, .symbol-edit-popup, .ui-datepicker, .clockpicker-popover, .pac-container")||($(o).off("mousedown.closeDialog"),i())})},0),t.find('input[type="checkbox"]').change(function(){var t=$(this);t.next("._tv-dialog-checkbox-mask").toggleClass("disabled",t.prop("disabled")).toggleClass("_tv-dialog-checkbox-mask-active",t.is(":checked"))}),n=t.find('input[type="text"]').focus(function(){$(this).addClass("_tv-dialog-content-textactive")}).blur(function(){$(this).removeClass("_tv-dialog-content-textactive")}).first(),Modernizr.touch||e.notFocusFirst||n.focus(),t.find('input[type="password"]').focus(function(){$(this).addClass("_tv-dialog-content-textactive")}).blur(function(){$(this).removeClass("_tv-dialog-content-textactive")}),t.find("textarea").focus(function(){$(this).addClass("_tv-dialog-content-textareaactive")}).blur(function(){$(this).removeClass("_tv-dialog-content-textareaactive")}),t.find("._tv-dialog-checkbox-mask").click(function(){var t=$(this).prev();t.prop("disabled")||(t.prop("checked",!t[0].checked),t.change())}),e.doNotCloseOnEsc||$(o).bind("keyup.hideDialog",function(e){if(27===e.keyCode)return t?a.destroy(t.data("title")):a.destroy(),!1}),e.processEnterButton&&$(o).bind("keyup.confirmAndCloseDialog",function(t){13===t.keyCode&&"textarea"!==t.target.tagName.toLowerCase()&&(e.processEnterButton.click(),$(o).unbind("keyup.confirmAndCloseDialog"))})},showError:function(t,e,i){a.showMessage(t,e,$.extend(i||{},{isError:!0}))},showMessage:function(t,e,i){var o,n,s
;e||(e=$("._tv-dialog")),i=i||{},o=i.isError&&"_tv-dialog-error"||"_tv-dialog-message",n=e.find("."+o),s=n.find(".message"),i.html?s.html("string"==typeof i.html?i.html:t):s.text(t),s.css("width",e.width()).toggleClass("selectable",!!i.selectable),n.toggleClass("with-close",!!i.withClose).css({marginTop:a.NOTIFICATION_ANIMATION_START_OFFSET,opacity:"0"}).show().animate({marginTop:0,opacity:1},"fast"),i.withClose||(i.hideWithoutAnimation?n.on("touchstartoutside mousedownoutside keydownoutside",function t(){n.hide(),n.off("touchstartoutside mousedownoutside keydownoutside",t)}):n.on("touchstartoutside mousedownoutside keydownoutside",function t(){n.animate({marginTop:a.NOTIFICATION_ANIMATION_START_OFFSET,opacity:0},"fast",function(){n.hide()}),n.off("touchstartoutside mousedownoutside keydownoutside",t)}))},isOpen:function(t){for(var e=0;e<a.dialogs.length;e++)if(a.dialogs[e].title===t)return!0;return!1},get:function(t){for(var e=0;e<a.dialogs.length;e++)if(a.dialogs[e].title===t)return a.dialogs[e].dialog},destroy:function(t,e){var i,o=null;if(t&&"string"==typeof t)for(i=0;i<a.dialogs.length;i++)a.dialogs[i].title===t&&(o=a.dialogs[i].dialog.prop("ownerDocument"),a.dialogs[i].dialog.find(".apply-common-tooltip").mouseout(),a.dialogs[i].dialog.trigger("destroy",e),$(document).unbind("mouseup.hideDialog"+a.dialogs[i].id),$("input",a.dialogs[i].dialog).blur(),a.dialogs[i].dialog.remove(),a.dialogs.splice(i,1));else a.modalDialog&&(o=a.modalDialog.prop("ownerDocument"),a.modalDialog.find(".apply-common-tooltip").mouseout(),a.modalDialog.find("._tv-dialog").trigger("destroy"),a.modalDialog.remove(),a.modalDialog=null);$(o).unbind("keyup.hideDialog"),$(o).unbind("keyup.confirmAndCloseDialog")},resizeContent:function(t,e,i){var o,a;null==i&&(i=20),t+=i,o=parseInt($("body").height(),10),a=e.height(),t>o&&(a-=t-o,a=Math.max(0,a),e.height(a))}},t.exports.TVOldDialogs=a}).call(e,i(5),i(123))},866:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 9" width="9px" height="9px"><path d="M2 1L1 2l2.5 2.5L1 7l1 1 2.5-2.5L7 8l1-1-2.5-2.5L8 2 7 1 4.5 3.5z"/></svg>'}});